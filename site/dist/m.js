/*! application-name 2016-03-13 */
function showDistricts(a){L.geoJson({features:a.features},{style:myStyle,onEachFeature:function(a,b){if(a.properties){var c="Khyber Pakhtunkhwa",d=a.properties.division,e=a.properties.district,f="District: "+e+"<br />Division: "+d+"<br /> Province: "+c;b.bindPopup(f)}}}).addTo(m)}function showSchools(a){sJson=L.geoJson({features:a.features},{style:myStyle,onEachFeature:function(a,b){var c=[];if(a.properties){for(var d in a.properties)c.push(d.replace("_"," ")+": "+a.properties[d]);b.bindPopup(c.join("<br />"))}}}),markers=new L.markerClusterGroup({disableClusteringAtZoom:13,showCoverageOnHover:!1}),markers.addLayer(sJson).addTo(m)}var myStyle={color:"#ff7800",weight:2,opacity:.7},southWest=L.latLng(25.712,62.227),northEast=L.latLng(44.774,76.125),bounds=L.latLngBounds(southWest,northEast),m=L.map("map",{maxBounds:bounds}).setView([34.1249883172,73.6328125],7),markers,sJson;$("#refresh-btn").on("click",function(a){var b=$("input:checkbox:checked").map(function(){return this.value}).get();console.log(b),$.post("/",{checked:b},function(a){console.log(a.schools),null!=markers&&m.removeLayer(markers),showSchools(a.schools)})}),$("#clear-btn").on("click",function(a){$("input:checkbox:checked").map(function(){$(this).removeAttr("checked")}).get()});